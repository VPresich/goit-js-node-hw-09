var C=Object.defineProperty;var k=(i,t,e)=>t in i?C(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var S=(i,t,e)=>(k(i,typeof t!="symbol"?t+"":t,e),e),v=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var s=(i,t,e)=>(v(i,t,"read from private field"),e?e.call(i):t.get(i)),f=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},d=(i,t,e,n)=>(v(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),E=(i,t,e,n)=>({set _(u){d(i,t,u,e)},get _(){return s(i,t,n)}});import"./styles-cf1625cb.js";import{c as P,i as x,K as w}from"./gallery-images-10d89ae9.js";var o,l,a,c;class D{constructor(t,e,n=0){f(this,o,0);f(this,l,1);f(this,a,0);f(this,c,void 0);d(this,o,t),d(this,l,e),d(this,a,n),d(this,c,Array.from({length:n},()=>({display:!1,offset:0}))),this.setSlidesProperty()}set slidesPerPage(t){d(this,l,t)}get slidesPerPage(){return s(this,l)}get currentSlide(){return s(this,o)}set currentSlide(t){return d(this,o,t)}setSlidesProperty(){s(this,c).forEach((t,e)=>{e>=s(this,o)&&e<s(this,o)+s(this,l)?t.display=!0:t.display=!1})}onPrevSlide(){s(this,o)>0&&(E(this,o)._--,s(this,c).forEach((t,e)=>{t.offset+=1})),this.setSlidesProperty()}onNextSlide(){s(this,o)<s(this,a)-s(this,l)&&(d(this,o,s(this,o)+1),s(this,c).forEach((t,e)=>{t.offset-=1})),this.setSlidesProperty()}goToSlide(t){const e=t-s(this,o);t<=s(this,a)-s(this,l)&&(d(this,o,s(this,o)+e),s(this,c).forEach(n=>{n.offset-=e})),console.log("goToSlide",t,e,s(this,o)),this.setSlidesProperty()}isExistNext(){return s(this,o)>=s(this,a)-s(this,l)||s(this,a)<=s(this,l)}isExistPrev(){return s(this,o)===0||s(this,a)<=s(this,l)}isDisplaySlide(t){return s(this,c)[t].display}getOffsetSlide(t){return s(this,c)[t].offset}}o=new WeakMap,l=new WeakMap,a=new WeakMap,c=new WeakMap;var r;const m=class{constructor(t,e,n){f(this,r,void 0);d(this,r,new D(t,1,e.length)),this.elementsList=e,this.sliderContent=n,this.prevBtn=document.getElementById("prevBtn"),this.nextBtn=document.getElementById("nextBtn"),this.sliderDots=document.querySelector(".slider-dots"),this.initBtnsFunction(),this.initTouchFunction(),this.createDots(),this.update()}initBtnsFunction(){this.prevBtn.addEventListener("click",()=>{s(this,r).onPrevSlide(),this.update()}),this.nextBtn.addEventListener("click",()=>{s(this,r).onNextSlide(),this.update()})}initTouchFunction(){let t=0;this.sliderContent.addEventListener("touchstart",e=>{t=e.touches[0].clientX}),this.sliderContent.addEventListener("touchmove",e=>{const n=e.touches[0].clientX,u=t-n;u>m.touchThreshold?(s(this,r).onNextSlide(),t=n,this.update()):u<-m.touchThreshold&&(s(this,r).onPrevSlide(),t=n,this.update())})}createDots(){this.sliderDots.innerHTML="";for(let t=0;t<this.elementsList.length;t+=1){const e=document.createElement("div");e.className="slider-dot",e.addEventListener("click",()=>{s(this,r).goToSlide(t),this.update()}),this.sliderDots.appendChild(e)}}update(){this.updateContent(),this.updateButtons(),this.updateDisplayDots()}updateContent(){const t=s(this,r).currentSlide,e=this.elementsList[t].querySelector(".gallery-img");this.sliderContent.src=e.dataset.source,this.sliderContent.alt=e.alt}updateButtons(){this.prevBtn.disabled=s(this,r).isExistPrev(),this.nextBtn.disabled=s(this,r).isExistNext()}updateDisplayDots(){const t=this.sliderDots.children;for(let e=0;e<t.length;e+=1)e===s(this,r).currentSlide?t[e].classList.add("active-dot"):t[e].classList.remove("active-dot")}};let p=m;r=new WeakMap,S(p,"touchThreshold",75);const h={gallery:document.querySelector(".gallery"),modalBackdrop:document.querySelector(".modal-backdrop"),buttonClose:document.querySelector(".close-button"),modalContent:document.querySelector(".modal-content")};P(x,h.gallery);h.gallery.addEventListener("click",T);h.buttonClose.addEventListener("click",g);h.modalBackdrop.addEventListener("click",N);function T(i){const t=i.target;if(!t.classList.contains("gallery-img"))return;i.preventDefault();const n={src:t.dataset.source,alt:t.alt,preview:t.src},u=t.closest(".gallery-item"),y=i.currentTarget.children,B=Array.from(y).indexOf(u);new p(B,y,h.modalContent),b(n)}function b({src:i,alt:t}){h.modalContent.src=i,h.modalContent.alt=t,h.modalBackdrop.classList.add("is-open"),window.addEventListener("keydown",L)}function g(i){window.removeEventListener("keydown",L),h.modalBackdrop.classList.remove("is-open")}function L(i){i.code===w&&g()}function N(i){i.currentTarget===i.target&&g()}
