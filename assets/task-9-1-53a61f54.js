var q=Object.defineProperty;var R=(s,i,e)=>i in s?q(s,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[i]=e;var D=(s,i,e)=>(R(s,typeof i!="symbol"?i+"":i,e),e),b=(s,i,e)=>{if(!i.has(s))throw TypeError("Cannot "+e)};var t=(s,i,e)=>(b(s,i,"read from private field"),e?e.call(s):i.get(s)),r=(s,i,e)=>{if(i.has(s))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(s):i.set(s,e)},o=(s,i,e,n)=>(b(s,i,"write to private field"),n?n.call(s,e):i.set(s,e),e);import"./styles-67355730.js";import{c as W,i as X,K as O}from"./gallery-images-e4621d11.js";import{S as A}from"./slider-12493aa4.js";var u,d,h,a,l,f,c,C,p,g;const B=class{constructor({currentSlide:i,slidesPerPage:e,prevBtnId:n,nextBtnId:v,dotsContainerId:L="",sliderContainerId:T="",slidesCounterId:x="",dotDefaultClass:F="slider-dot",dotActiveClass:I="active-dot",isDotContainText:M=!1,elementsList:P}){r(this,u,0);r(this,d,void 0);r(this,h,void 0);r(this,a,void 0);r(this,l,void 0);r(this,f,void 0);r(this,c,void 0);r(this,C,void 0);r(this,p,void 0);r(this,g,void 0);o(this,d,new A(i,e,P.length)),n&&o(this,h,document.getElementById(n)),v&&o(this,a,document.getElementById(v)),L&&(o(this,l,document.getElementById(L)),o(this,C,F),o(this,p,I),o(this,g,M)),T&&o(this,c,document.getElementById(T)),x&&o(this,f,document.getElementById(x)),this.init()}init(){this.initBtnsFunction(),t(this,c)&&this.initTouchFunction(),t(this,l)&&this.createDots()}update(){this.updateContent(),this.updateButtons(),this.updateDisplayDots(),this.updateCounter()}destroy(){this.removeBtnsFunction(),t(this,l)&&this.removeDots(),t(this,c)&&this.removeTouchFunction()}getCurrentSlide(){return t(this,d).currentSlide}initBtnsFunction(){t(this,h)&&t(this,h).addEventListener("click",this.onPrevBtnClick.bind(this)),t(this,a)&&t(this,a).addEventListener("click",this.onNextBtnClick.bind(this))}initTouchFunction(){o(this,u,0),t(this,c).addEventListener("touchstart",this.onSliderTouchStart.bind(this)),t(this,c).addEventListener("touchmove",this.onSliderTouchMove.bind(this))}createDots(){t(this,l).innerHTML="";for(let i=0;i<t(this,d).slidesNumber;i+=1){const e=document.createElement("div");e.className=t(this,C),e.dataset.index=i,t(this,g)&&(e.textContent=`${i+1}`),t(this,l).appendChild(e)}t(this,l).addEventListener("click",this.onSliderDotsClick.bind(this))}updateContent(){console.log(TODO in children)}updateButtons(){t(this,h).disabled=t(this,d).isExistPrev(),t(this,a).disabled=t(this,d).isExistNext()}updateDisplayDots(){const i=t(this,l).children;for(let e=0;e<i.length;e+=1)e===t(this,d).currentSlide?i[e].classList.add(t(this,p)):i[e].classList.remove(t(this,p))}updateCounter(){t(this,f).textContent=`${t(this,d).currentSlide+1+"/"+t(this,d).slidesNumber}`}removeBtnsFunction(){t(this,h)&&t(this,h).removeEventListener("click",this.onPrevBtnClick.bind(this)),t(this,a)&&t(this,a).removeEventListener("click",this.onNextBtnClick.bind(this))}removeDots(){t(this,l).innerHTML="",t(this,l).removeEventListener("click",this.onSliderDotsClick.bind(this))}removeTouchFunction(){t(this,c).removeEventListener("touchstart",this.onSliderTouchStart.bind(this)),t(this,c).removeEventListener("touchmove",this.onSliderTouchMove.bind(this))}onPrevBtnClick(){t(this,d).onPrevSlide(),this.update()}onNextBtnClick(){t(this,d).onNextSlide(),this.update()}onSliderDotsClick(i){const e=i.target;if(e.classList.contains(t(this,C))){const n=parseInt(e.dataset.index,10);t(this,d).goToSlide(n),this.update()}}onSliderTouchStart(i){o(this,u,i.touches[0].clientX)}onSliderTouchMove(i){const e=i.touches[0].clientX,n=t(this,u)-e;n>B.touchThreshold?(t(this,d).onNextSlide(),o(this,u,e),this.update()):n<-B.touchThreshold&&(t(this,d).onPrevSlide(),o(this,u,e),this.update())}};let y=B;u=new WeakMap,d=new WeakMap,h=new WeakMap,a=new WeakMap,l=new WeakMap,f=new WeakMap,c=new WeakMap,C=new WeakMap,p=new WeakMap,g=new WeakMap,D(y,"touchThreshold",75);var S,k;class K extends y{constructor(e){const{elementsList:n,sliderContent:v}=e;super(e);r(this,S,void 0);r(this,k,void 0);o(this,k,n),o(this,S,v),super.update()}destroy(){super.destroy()}updateContent(){const e=super.getCurrentSlide(),n=t(this,k)[e].querySelector("img");t(this,S).src=n.dataset.source,t(this,S).alt=n.alt}}S=new WeakMap,k=new WeakMap;const m={gallery:document.querySelector(".gallery"),modalBackdrop:document.querySelector(".modal-backdrop"),buttonClose:document.querySelector(".close-button"),modalContent:document.querySelector(".modal-content"),modalClose:document.querySelector("#closeBtn")};W(X,m.gallery);m.gallery.addEventListener("click",$);m.buttonClose.addEventListener("click",E);m.modalBackdrop.addEventListener("click",Y);m.modalClose.addEventListener("click",E);let w;const H={slidesPerPage:1,prevBtnId:"prevBtn",nextBtnId:"nextBtn",dotsContainerId:"sliderDots",sliderContainerId:"modalContent",slidesCounterId:"slidesCounter",dotDefaultClass:"slider-dot",dotActiveClass:"active-dot",isDotContainText:!1,sliderContent:m.modalContent};function $(s){const i=s.target;if(!i.classList.contains("gallery-img"))return;s.preventDefault();const n=i.closest(".gallery-item"),v=s.currentTarget.children,L=Array.from(v).indexOf(n);w=new K({...H,currentSlide:L,elementsList:v}),G()}function G(){m.modalBackdrop.classList.add("is-open"),window.addEventListener("keydown",N)}function E(s){window.removeEventListener("keydown",N),m.modalBackdrop.classList.remove("is-open"),w.destroy()}function N(s){s.code===O&&E()}function Y(s){s.currentTarget===s.target&&E()}
